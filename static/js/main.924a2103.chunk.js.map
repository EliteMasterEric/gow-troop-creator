{"version":3,"sources":["components/Icon.js","components/NavBar.js","components/TabResult.js","components/FormSpell.js","components/CardSpell.js","components/PreviewSpell.js","components/TabSpell.js","components/Values.js","components/FormTraits.js","components/CardTraits.js","components/PreviewTraits.js","components/TabTraits.js","components/FormTroop.js","components/CardTroop.js","components/PreviewTroop.js","components/TabTroop.js","components/App.js","index.js"],"names":["useStyles","makeStyles","theme","image","width","height","paddingRight","Icon","icon","className","Image","source","classes","alt","src","appbar","elevation","position","toolbar","paddingLeft","appbarText","alignSelf","marginRight","input","marginLeft","borderRadius","overflow","NavBar","AppBar","color","Toolbar","Typography","variant","buttonIcon","fontSize","canvas","margin","display","TabResult","troop","canvasResult","React","useState","downloadUrl","setDownloadUrl","updateDownloadURL","current","toDataURL","useEffect","Card","CardContent","align","Grid","container","item","justify","xs","Box","ref","Tooltip","title","aria-label","Button","size","href","download","name","menu","menuColor","spellPower","breakpoints","up","padding","FormSpell","setTroop","other","handleChange","event","target","value","lg","spacing","direction","sm","md","xl","card","TextField","id","spellname","onChange","type","label","style","spelldesc","multiline","helperText","magic","InputProps","startAdornment","InputAdornment","spellmult","spellbase","FormControlLabel","control","Checkbox","checked","spellrange","gutterBottom","backgroundColor","cardBox","core_sources","rarities","pips","fillMixedText","ctx","args","x","y","defaultFillStyle","fillStyle","defaultFont","font","save","forEach","text","fillText","measureText","restore","writeSpellDescriptionLines","context","maxWidth","maxHeight","baseLineHeight","lineHeight","words","split","lines","lineIndexes","currentLine","magicFillWordIndex","replace","i","length","word","magicDamage","parseInt","Math","floor","push","newY","j","textAlign","newX","magicFillWordLocalIndex","magicWords","splice","lineFirstPart","join","lineLastPart","textParts","boldFont","draw","temp","images","getContext","ctemp","rarity_color","rarity","drawImage","globalCompositeOperation","fillRect","clearRect","cresult","CardSpell","troopCard","useRef","isFontReady","setFontReady","WebFontLoader","load","google","families","fontactive","troop_sources","callback","loadedImages","countImages","onload","index","loadImages","buttonGrid","paddingTop","PreviewSpell","cardGridItem","order","formGridItem","TabSpell","colors","roles","trait_codes","skill","manaCost","manaColors","typeField","traitcode","traitname","FormTraits","trait1code","select","map","code","MenuItem","key","trait1name","trait1desc","trait2code","trait2name","trait2desc","trait3code","trait3name","trait3desc","writeLines","globalAlpha","CardTraits","PreviewTraits","TabTraits","trait","FormTroop","kingdom","option","level","role","cost","SelectProps","MenuProps","type1","type2","attack","armor","life","rarity_pips","rect","clip","translate","scale","shadowOffsetX","shadowOffsetY","shadowColor","Array","keys","txtSize","leftRoleX","rightRoleX","CardTroop","PreviewTroop","TabTroop","content","flexGrow","grid","tabView","TabPanel","children","component","hidden","aria-labelledby","p","a11yProps","App","useTheme","file_base","files","currentTab","setCurrentTab","createRef","CssBaseline","Container","Tabs","newValue","indicatorColor","textColor","centered","Tab","axis","onChangeIndex","dir","createMuiTheme","palette","primary","blueGrey","secondary","orange","zIndex","appBar","ReactDOM","render","MuiThemeProvider","document","getElementById"],"mappings":"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A,aACA,eACA,eACA,OACA,aACA,eACA,cACA,YACA,cACA,gBACA,kBACA,UACA,YACA,YACA,SACA,wBACA,cACA,OACA,OACA,UACA,YACA,aACA,YACA,YACA,WACA,YACA,aACA,SACA,SACA,aACA,YACA,aACA,eACA,YACA,cACA,aACA,eACA,UACA,cACA,SACA,SACA,aACA,OACA,YACA,cACA,SACA,WACA,UACA,WACA,SACA,aACA,eACA,YACA,YACA,OACA,YACA,aACA,eACA,WACA,SACA,cACA,YACA,eACA,YACA,aACA,aACA,YACA,cACA,aACA,YACA,eACA,iBACA,WACA,aACA,WACA,cACA,gBACA,SACA,SACA,cACA,gBACA,aACA,eACA,WACA,aACA,aACA,cACA,cACA,aACA,eACA,aACA,UACA,UACA,YACA,cACA,YACA,cACA,aACA,eACA,eACA,aACA,YACA,cACA,YACA,WACA,UACA,QACA,UACA,SACA,WACA,QACA,aACA,aACA,aACA,UACA,WACA,aACA,aACA,YACA,YACA,cACA,YACA,cACA,SACA,WACA,cACA,aACA,eACA,cACA,YACA,SACA,WACA,aACA,eACA,WACA,YACA,OACA,SACA,cACA,gBACA,aACA,aACA,YACA,cACA,eACA,iBACA,cCzPIxM,GAAYC,YAAW,SAAAC,GAAU,IAAD,YACpC,MAAO,CACLa,OAAQ,CACNC,UAAW,EACXC,SAAU,SAEZC,QAAS,CACPC,YAAa,MACbb,aAAc,OAEhBc,WAAY,CACVC,UAAW,SACXC,YAAa,QAEfC,MAAO,CACLC,WAAY,QAEd2C,KAAM,CACJ/D,MAAO,KAETgE,UAAW,CACThE,MAAO,KAETqM,OAAK,mBACFvM,EAAMoE,YAAYC,GAAG,MAAQ,CAC5BnE,MAAO,SAFN,cAIFF,EAAMoE,YAAYC,GAAG,MAAQ,CAC5BnE,MAAO,MACPoE,QAAS,QANR,GASLkI,UAAQ,mBACLxM,EAAMoE,YAAYC,GAAG,MAAQ,CAC5BnE,MAAO,SAFH,cAILF,EAAMoE,YAAYC,GAAG,MAAQ,CAC5BnE,MAAO,MACPoE,QAAS,QANL,GASR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","file":"static/js/main.924a2103.chunk.js","sourcesContent":["import React from 'react'\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  image: {\r\n    width: 'auto',\r\n    height: '24px',\r\n    paddingRight: '4px'\r\n  }\r\n}));\r\n\r\n/*\r\n  Renders font icons. Great for buttons!\r\n  Powered by Nerd Fonts. Find class names on https://www.nerdfonts.com/cheat-sheet\r\n  Example: <Icon icon=\"nf-mdi-login\" />\r\n */\r\nexport const Icon = ({icon, className}) => {\r\n  return (\r\n    <div>\r\n      <i className={`nf ${(icon || \"nf-fa-amazon\")} ${className || ''}`}/>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Render a troop as a full-size card (like in the troop list).\r\nexport const Image = ({source, className}) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <img alt=\"\" src={source} className={className || classes.image}></img>\r\n  );\r\n}","import React from 'react'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Image } from './Icon';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    appbar: {\r\n      elevation: 0,\r\n      position: \"fixed\" \r\n    },\r\n    toolbar: {\r\n      paddingLeft: \"8px\",\r\n      paddingRight: \"8px\"\r\n    },\r\n    appbarText: {\r\n      alignSelf: \"center\",\r\n      marginRight: \"10px\"\r\n    },\r\n    input: {\r\n      marginLeft: \"auto\"\r\n    },\r\n    image: {\r\n      width: 'auto',\r\n      height: '36px',\r\n      paddingRight: '8px',\r\n      borderRadius: '24px',\r\n      overflow: 'hidden'\r\n    }\r\n  };\r\n });\r\n\r\nexport const NavBar = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <AppBar color=\"primary\" className={classes.appbar}>\r\n      <Toolbar className={classes.toolbar}>\r\n        <Image source={'./logo256.png'} className={classes.image} />\r\n        <Typography className={classes.appbarText} variant=\"h4\" color=\"inherit\">\r\n          Gems of War Troop Creator\r\n        </Typography>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Typography, CardContent, Grid, Card, Button, Tooltip, Box } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Icon } from './Icon';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  buttonIcon: {\r\n    fontSize: '2em'\r\n  },\r\n  canvas: {\r\n    width: '100%',\r\n    margin: '0px auto',\r\n    display: 'table'\r\n  }\r\n}));\r\n\r\nexport const TabResult = ({troop, canvasResult}) => {\r\n  const classes = useStyles();\r\n\r\n  const [downloadUrl, setDownloadUrl] = React.useState(\"\");\r\n\r\n  const updateDownloadURL = () => {\r\n    // Get the data URL of the canvas.\r\n    setDownloadUrl(canvasResult.current.toDataURL(\"image/png\"));\r\n  };\r\n  // Perform when component first renders.\r\n  useEffect(updateDownloadURL, [canvasResult]);\r\n  // Perform when troop changes.\r\n  useEffect(updateDownloadURL, [troop]);\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <Typography align=\"center\" variant=\"h2\">Result</Typography>\r\n        <Grid container>\r\n          <Grid item container justify=\"center\" xs={12}>\r\n            <Grid item>\r\n              <Box className={classes.canvas}>\r\n                <canvas ref={canvasResult} width={1440} height={757} />\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item container justify=\"center\" xs={12}>\r\n            <Grid item>\r\n              <Tooltip title=\"Download\" aria-label=\"download\">\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  size=\"large\"\r\n                  href={downloadUrl}\r\n                  download={`${troop.name}.png`}>\r\n                  <Icon className={classes.buttonIcon} icon={\"nf-mdi-download\"}/>\r\n                </Button>\r\n              </Tooltip>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}","import React from 'react'\r\nimport { Typography, CardContent, Grid, Card, TextField, InputAdornment, FormControlLabel, Checkbox } from '@material-ui/core';\r\nimport { DropzoneArea } from 'material-ui-dropzone'\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Image } from \"./Icon\";\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    appbar: {\r\n      elevation: 0,\r\n      position: \"fixed\" \r\n    },\r\n    toolbar: {\r\n      paddingLeft: \"8px\",\r\n      paddingRight: \"8px\"\r\n    },\r\n    appbarText: {\r\n      alignSelf: \"center\",\r\n      marginRight: \"10px\"\r\n    },\r\n    input: {\r\n      marginLeft: \"auto\"\r\n    },\r\n    menu: {\r\n      width: 200,\r\n    },\r\n    menuColor: {\r\n      width: 400,\r\n    },\r\n    spellPower: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up(1400)]: {\r\n        width: '50%',\r\n        padding: '4px'\r\n      }\r\n    }\r\n  };\r\n });\r\n\r\nexport const FormSpell = ({troop, setTroop, ...other}) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = name => event => {\r\n    setTroop({ ...troop, [name]: event.target.value });\r\n  };\r\n\r\n  const handleChangeCheckbox = name => event => {\r\n    setTroop({ ...troop, [name]: event.target.checked });\r\n  };\r\n\r\n  return (\r\n    <Grid xs={12} lg={8} spacing={3} container item direction=\"row\" {...other}>\r\n      <Grid item xs={12} sm={12} md={6} lg={4} xl={4}>\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography variant=\"h4\">Spell Name</Typography>\r\n            <TextField\r\n              id=\"form-spellname\"\r\n              value={troop.spellname}\r\n              onChange={handleChange('spellname')}\r\n              margin=\"normal\"\r\n              type=\"text\"\r\n              label=\"Spell Name\"\r\n              style={{width: '100%'}}\r\n              variant=\"outlined\" />\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      <Grid item xs={12} sm={12} md={6} lg={4} xl={4}>\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography variant=\"h4\">Spell Description</Typography>\r\n            <TextField\r\n              id=\"form-spelldesc\"\r\n              value={troop.spelldesc}\r\n              onChange={handleChange('spelldesc')}\r\n              margin=\"normal\"\r\n              type=\"text\"\r\n              multiline\r\n              helperText=\"{magic} specifies spell power\"\r\n              label=\"Spell Description\"\r\n              style={{width: '100%'}}\r\n              variant=\"outlined\" />\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      <Grid item xs={12} sm={12} md={6} lg={4} xl={4}>\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography variant=\"h4\">Magic</Typography>\r\n            <TextField\r\n                id=\"form-magic\"\r\n                value={troop.magic}\r\n                type=\"number\"\r\n                label=\"Magic\"\r\n                onChange={handleChange('magic')}\r\n                margin=\"normal\"\r\n                style={{width: '100%'}}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Image source={`./assets/graphics/troopcard/magic.png`}/>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                variant=\"outlined\" />\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      <Grid item xs={12} sm={12} md={6} lg={4} xl={4}>\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography variant=\"h4\">Spell Power</Typography>\r\n            <TextField\r\n              id=\"form-spellmult\"\r\n              value={troop.spellmult}\r\n              type=\"number\"\r\n              label=\"Multiplier\"\r\n              onChange={handleChange('spellmult')}\r\n              margin=\"normal\"\r\n              className={classes.spellPower}\r\n              variant=\"outlined\" />\r\n            <TextField\r\n              id=\"form-spellbase\"\r\n              value={troop.spellbase}\r\n              type=\"number\"\r\n              label=\"Base\"\r\n              onChange={handleChange('spellbase')}\r\n              margin=\"normal\"\r\n              className={classes.spellPower}\r\n              variant=\"outlined\" />\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox checked={troop.spellrange} onChange={handleChangeCheckbox('spellrange')} value=\"spellrange\" />\r\n              }\r\n              label=\"Range?\" />\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography variant=\"h4\" gutterBottom>Image</Typography>\r\n            <DropzoneArea\r\n              className={{ backgroundColor: \"#1f1f1f\" }}\r\n              onChange={handleChange('files')} />\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport WebFontLoader from \"webfontloader\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardBox: {\r\n    padding: theme.spacing(3)\r\n  },\r\n  card: {\r\n    width: '100%',\r\n    margin: '0px auto',\r\n    display: 'table'\r\n  }\r\n}));\r\n\r\nconst core_sources = [\r\n  \"./assets/graphics/troopcard/top.png\", // 0 - CardTop\r\n  \"./assets/graphics/troopcard/bottom.png\", // 1 - CardBottom\r\n  \"./assets/graphics/troopcard/divider.png\", // 2 - SpellDivider\r\n  './assets/graphics/troopcard/spellbg.png', // 3 - SpellBackground\r\n  './assets/graphics/troopcard/magic.png', // 4 - Magic\r\n]\r\n\r\nconst rarities = {\r\n  \"Common\":     { color: \"#FEFEFE\", pips: 1 },\r\n  \"Rare\":       { color: \"#54A721\", pips: 2 },\r\n  \"Ultra-Rare\": { color: \"#1D71FF\", pips: 3 },\r\n  \"Epic\":       { color: \"#9635E7\", pips: 4 },\r\n  \"Legendary\":  { color: \"#F3A120\", pips: 5 },\r\n  \"Mythic\":     { color: \"#13E3F6\", pips: 6 },\r\n  \"Doomed\":     { color: \"#B90000\", pips: 6 },\r\n}\r\n\r\n// Ensure all images are loaded before rendering the canvas itself.\r\nfunction loadImages(canvas, temp, troop, troop_sources, callback, setDownloadUrl, canvasResult) {\r\n  var images = {};\r\n  var loadedImages = 0;\r\n  var countImages = core_sources.length + troop_sources.length;\r\n  for (var src in core_sources) {\r\n      images[src] = new Image();\r\n      images[src].onload = function() {\r\n        if (++loadedImages >= countImages) {\r\n          callback(canvas, temp, troop, images, setDownloadUrl, canvasResult);\r\n        }\r\n      };\r\n      images[src].src = core_sources[src];\r\n  }\r\n  for (src in troop_sources) {\r\n    var index = parseInt(src) + core_sources.length;\r\n    images[index] = new Image();\r\n    images[index].onload = function() {\r\n      if (++loadedImages >= countImages) {\r\n        callback(canvas, temp, troop, images, setDownloadUrl, canvasResult);\r\n      }\r\n    };\r\n    images[index].src = troop_sources[src];\r\n}\r\n};\r\n\r\n// https://gist.github.com/mrcoles/0dfaab93a1c899e5f46690676c8c29e5\r\nconst fillMixedText = (ctx, args, x, y) => {\r\n  let defaultFillStyle = ctx.fillStyle;\r\n  let defaultFont = ctx.font;\r\n\r\n  ctx.save();\r\n  args.forEach(({ text, fillStyle, font }) => {\r\n    ctx.fillStyle = fillStyle || defaultFillStyle;\r\n    ctx.font = font || defaultFont;\r\n    ctx.fillText(text, x, y);\r\n    x += ctx.measureText(text).width;\r\n  });\r\n  ctx.restore();\r\n};\r\n\r\nconst writeSpellDescriptionLines = (context, x, y, maxWidth, maxHeight, baseLineHeight, troop, text) => {\r\n  //\r\n  // DEATH TO ALL YE WHO ENTER HERE\r\n  // This function is a nightmare of confusing logic, combining word wrapping\r\n  // with the code that colors the magic formatting text.\r\n  //\r\n\r\n  var lineHeight = baseLineHeight;\r\n\r\n  const fillStyle = \"#000000\";\r\n  const altFillStyle = \"#680b7c\";\r\n\r\n  while(lineHeight > 0) {\r\n    var words = text.split(\" \");\r\n    var lines = [];\r\n    var lineIndexes = [0]\r\n    var currentLine = words[0];\r\n    var magicFillWordIndex = -1;\r\n\r\n    context.font = '600 {}px \"Open Sans\"'.replace(\"{}\", lineHeight);\r\n\r\n    // Build an array of lines, starting a new line if the current one is too long.\r\n    for (var i = 1; i < words.length; i++) {\r\n      var word = words[i];\r\n      if (word === \"{magic}\") {\r\n        magicFillWordIndex = i;\r\n        const magicDamage = parseInt(troop.spellbase) + (parseInt(troop.spellmult) * parseInt(troop.magic));\r\n        if (troop.spellrange) {\r\n          word = Math.floor(magicDamage/2) + \" - \" + (magicDamage);\r\n        } else {\r\n          word = magicDamage;\r\n        }\r\n      }\r\n      var width = context.measureText(currentLine + \" \" + word).width;\r\n      if (width < maxWidth) {\r\n        currentLine += \" \" + word;\r\n      } else {\r\n        lines.push(currentLine);\r\n        lineIndexes.push(i);\r\n        currentLine = word;\r\n      }\r\n    }\r\n    // Finish up.\r\n    lines.push(currentLine);\r\n    lineIndexes.push(i);\r\n    if (lines.length * lineHeight > maxHeight) {\r\n      // Make things shorter and start over.\r\n      lineHeight -= 2;\r\n    } else {\r\n      // Actually use this size.\r\n      const newY = y - (lines.length * lineHeight / 2);\r\n\r\n      for (var j = 0; j < lines.length; j++) {\r\n        if (magicFillWordIndex !== -1 &&\r\n          (magicFillWordIndex <= lineIndexes[j+1] && (lineIndexes[j] < magicFillWordIndex))) {\r\n          context.textAlign = 'left';\r\n          var newX = x - (context.measureText(lines[j]).width / 2);\r\n          context.fillStyle = altFillStyle;\r\n          const magicFillWordLocalIndex = magicFillWordIndex - lineIndexes[j];\r\n\r\n          const lineWords = lines[j].split(\" \");\r\n          const magicWords = lineWords.splice(magicFillWordLocalIndex, troop.spellrange ? 3 : 1);\r\n\r\n          const lineFirstPart = lines[j].split(magicWords.join(' '))[0];\r\n          const lineLastPart = lines[j].split(magicWords.join(' '))[1];\r\n          var textParts = []\r\n          const boldFont = 'bold {}px \"Open Sans\"'.replace(\"{}\", lineHeight);\r\n          if (troop.spellrange) {\r\n            textParts = [\r\n              { text: lineFirstPart, fillStyle: fillStyle    },\r\n              { text: magicWords[0] + ' ', fillStyle: altFillStyle, font: boldFont },\r\n              { text: magicWords[1], fillStyle: fillStyle    },\r\n              { text: ' ' + magicWords[2], fillStyle: altFillStyle, font: boldFont },\r\n              { text: lineLastPart,  fillStyle: fillStyle    }\r\n            ]\r\n          } else {\r\n            textParts = [\r\n              { text: lineFirstPart, fillStyle: fillStyle    },\r\n              { text: magicWords[0], fillStyle: altFillStyle, font: boldFont },\r\n              { text: lineLastPart,  fillStyle: fillStyle    }\r\n            ]\r\n          }\r\n          fillMixedText(context, textParts, newX, newY + lineHeight * j);\r\n        } else {\r\n          context.textAlign = 'center';\r\n          context.fillStyle = fillStyle;\r\n          context.fillText(lines[j], x, newY + lineHeight * j);\r\n        }\r\n      }\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\n// Render the canvas itself.\r\nfunction draw(canvas, temp, troop, images, setDownloadUrl, canvasResult) {\r\n  // Set the canvas size.\r\n  canvas.width = 460;\r\n  canvas.height = 727;\r\n  var ctx = canvas.getContext('2d');\r\n  temp.width = canvas.width;\r\n  temp.height = canvas.height;\r\n  var ctemp = temp.getContext('2d');\r\n\r\n  const rarity_color = rarities[troop.rarity].color;\r\n  \r\n  // CardTop and CardBottom, TraitDivider1, 2, and 3\r\n  // To color by rarity, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  // CardTop border\r\n  ctemp.drawImage(images[0], 0, 0, 460, 16);\r\n  // CardBottom border\r\n  ctemp.drawImage(images[1], 0, 689, 460, 34);\r\n  // SpellDivider\r\n  ctemp.drawImage(images[2], 0, 427, 460, 14);\r\n  // Fill in the area with the color.\r\n  ctemp.fillStyle = rarity_color;\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  // Move the image to the main canvas, then clear out the temp canvas.\r\n  ctx.drawImage(temp, 0, 0, canvas.width, canvas.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height);\r\n  ctemp.restore();\r\n\r\n  // Name Plate\r\n  ctx.fillStyle = \"#000\";\r\n  ctx.fillRect(0, 16, 460, 71);\r\n\r\n  // Spell Name\r\n  ctx.font = '600 50px \"Open Sans\"';\r\n  ctx.fillStyle = \"#FFF\";\r\n  ctx.textAlign = 'center';\r\n  ctx.fillText(troop.spellname, 215, 66);\r\n\r\n  // Spell Image\r\n  ctx.drawImage(images[5], 0, 87, 460, 340);\r\n\r\n  // Spell Card\r\n  ctx.drawImage(images[3], 0, 441, 460, 248);\r\n\r\n  // Magic Icon\r\n  ctx.drawImage(images[4], 185, 454, 34, 42);\r\n\r\n  // Magic Value\r\n  ctx.font = '600 40px \"Open Sans\"';\r\n  ctx.fillStyle = \"#FFF\";\r\n  ctx.textAlign = 'left';\r\n  ctx.fillText(troop.magic, 235, 488);\r\n\r\n  // SpellDesc\r\n  writeSpellDescriptionLines(ctx, 230, 623, 430, 150, 36, troop, troop.spelldesc);\r\n\r\n  // Add the spell to the results.\r\n  const cresult = canvasResult.getContext('2d');\r\n  cresult.clearRect(5, 15, canvas.width, canvas.height);\r\n  cresult.drawImage(canvas, 5, 15, canvas.width, canvas.height);\r\n\r\n  // Set the download URL.\r\n  setDownloadUrl(canvas.toDataURL(\"image/png\"));\r\n}\r\n\r\nconst drawInactive = (canvas) => {\r\n  // Set the canvas size.\r\n  canvas.width = 491;\r\n  canvas.height = 727;\r\n}\r\n\r\n// Render a troop as a full-size card (like in the troop list).\r\nexport const CardSpell = ({troop, canvasResult, setDownloadUrl}) => {\r\n  const classes = useStyles();\r\n\r\n  const troopCard = React.useRef(null);\r\n  const temp = React.useRef(null);\r\n\r\n  const [isFontReady, setFontReady] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    // Fetch necessary fonts.\r\n    WebFontLoader.load({\r\n      google: {\r\n        families: [ 'Open Sans:400,600,700', 'Roboto', 'Raleway'],\r\n      },\r\n      fontactive: () => { setFontReady(true) },\r\n    })\r\n  }, []);\r\n\r\n  // Perform when troop changes.\r\n  useEffect(() => {\r\n    // Draw the canvas.\r\n    if (isFontReady) {\r\n      loadImages(troopCard.current, temp.current, troop, [\r\n        `./assets/graphics/troopcard/eruption.png`, // 5 - Spell Icon\r\n      ], draw, setDownloadUrl, canvasResult.current);\r\n    } else {\r\n      drawInactive(troopCard.current);\r\n    }\r\n  }, [troop, isFontReady]);\r\n\r\n  return (\r\n    <Box height={1} className={classes.cardBox}>\r\n        <canvas ref={troopCard} className={classes.card} />\r\n        <canvas ref={temp} style={{display: 'none'}} />\r\n    </Box>\r\n  );\r\n}","import React from \"react\";\r\nimport { Typography, CardContent, Grid, Card, Button, Tooltip} from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { CardSpell } from \"./CardSpell\";\r\nimport { Icon } from './Icon';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  buttonGrid: {\r\n    paddingTop: '6px'\r\n  },\r\n  buttonIcon: {\r\n    fontSize: '2em'\r\n  },\r\n  card: {\r\n    padding: theme.spacing(3)\r\n  }\r\n}));\r\n\r\nexport const PreviewSpell = ({troop, canvasResult, ...other}) => {\r\n  const classes = useStyles();\r\n\r\n  const [downloadUrl, setDownloadUrl] = React.useState(\"\");\r\n\r\n  return (\r\n    <Grid item xs={12} lg={4} {...other}>\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <Typography align=\"center\" variant=\"h2\">Preview</Typography>\r\n          <CardSpell troop={troop} canvasResult={canvasResult} setDownloadUrl={setDownloadUrl} />\r\n          <Grid container justify=\"center\" className={classes.buttonGrid} spacing={3}>\r\n            <Grid item>\r\n              <Tooltip title=\"Download\" aria-label=\"download\">\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  size=\"large\"\r\n                  href={downloadUrl}\r\n                  download={`${troop.name}.png`}>\r\n                  <Icon className={classes.buttonIcon} icon={\"nf-mdi-download\"}/>\r\n                </Button>\r\n              </Tooltip>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n    </Grid>\r\n  )\r\n}","import React from \"react\";\r\nimport { Grid } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { FormSpell } from \"./FormSpell\";\r\nimport { PreviewSpell } from \"./PreviewSpell\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardGridItem: {\r\n    order: 2,\r\n    width: `calc(75vh)`\r\n  },\r\n  formGridItem: {\r\n    order: 1\r\n  }\r\n}));\r\n\r\nexport const TabSpell = ({troop, setTroop, canvasResult, ...other}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container spacing={3} direction=\"row\" {...other}>\r\n      <FormSpell\r\n        troop={troop}\r\n        className={classes.formGridItem}\r\n        setTroop={setTroop} />\r\n      <PreviewSpell\r\n        troop={troop}\r\n        canvasResult={canvasResult} \r\n        className={classes.cardGridItem} />\r\n    </Grid>\r\n  )\r\n}","export const colors = [\r\n    { value: 'Blue', label: 'Blue' },\r\n    { value: 'Green', label: 'Green' },\r\n    { value: 'Red', label: 'Red' },\r\n    { value: 'Yellow', label: 'Yellow' },\r\n    { value: 'Purple', label: 'Purple' },\r\n    { value: 'Orange', label: 'Brown' },\r\n    { value: 'BlueGreen', label: 'Blue / Green' },\r\n    { value: 'BlueRed', label: 'Blue / Red' },\r\n    { value: 'BlueYellow', label: 'Blue / Yellow' },\r\n    { value: 'BluePurple', label: 'Blue / Purple' },\r\n    { value: 'BlueOrange', label: 'Blue / Brown' },\r\n    { value: 'GreenRed', label: 'Green / Red' },\r\n    { value: 'GreenYellow', label: 'Green / Yellow' },\r\n    { value: 'GreenPurple', label: 'Green / Purple' },\r\n    { value: 'GreenOrange', label: 'Green / Brown' },\r\n    { value: 'RedYellow', label: 'Red / Yellow' },\r\n    { value: 'RedPurple', label: 'Red / Purple' },\r\n    { value: 'RedOrange', label: 'Red / Brown' },\r\n    { value: 'YellowPurple', label: 'Yellow / Purple' },\r\n    { value: 'YellowOrange', label: 'Yellow / Brown' },\r\n    { value: 'PurpleOrange', label: 'Purple / Brown' },\r\n    { value: 'BlueGreenRed', label: 'Blue / Green / Red' },\r\n    { value: 'BlueGreenYellow', label: 'Blue / Green / Yellow' },\r\n    { value: 'BlueGreenPurple', label: 'Blue / Green / Purple' },\r\n    { value: 'BlueGreenOrange', label: 'Blue / Green / Brown' },\r\n    { value: 'BlueRedYellow', label: 'Blue / Red / Yellow' },\r\n    { value: 'BlueRedPurple', label: 'Blue / Red / Purple' },\r\n    { value: 'BlueRedOrange', label: 'Blue / Red / Brown' },\r\n    { value: 'BlueYellowPurple', label: 'Blue / Yellow / Purple' },\r\n    { value: 'BlueYellowOrange', label: 'Blue / Yellow / Brown' },\r\n    { value: 'BluePurpleOrange', label: 'Blue / Purple / Brown' },\r\n    { value: 'GreenRedYellow', label: 'Green / Red / Yellow' },\r\n    { value: 'GreenRedPurple', label: 'Green / Red / Purple' },\r\n    { value: 'GreenRedOrange', label: 'Green / Red / Brown' },\r\n    { value: 'GreenYellowPurple', label: 'Green / Yellow / Purple' },\r\n    { value: 'GreenYellowOrange', label: 'Green / Yellow / Brown' },\r\n    { value: 'GreenPurpleOrange', label: 'Green / Purple / Brown' },\r\n    { value: 'RedYellowPurple', label: 'Red / Yellow / Purple' },\r\n    { value: 'RedYellowOrange', label: 'Red / Yellow / Brown' },\r\n    { value: 'RedPurpleOrange', label: 'Red / Purple / Brown' },\r\n    { value: 'YellowPurpleOrange', label: 'Yellow / Purple / Brown' },\r\n    { value: 'All', label: 'All' }\r\n];\r\n\r\nexport const rarities = [\r\n  'Common',\r\n  'Rare',\r\n  'Ultra-Rare',\r\n  'Epic',\r\n  'Legendary',\r\n  'Mythic',\r\n  'Doomed',\r\n]\r\n\r\nexport const roles = [\r\n  'Assassin',\r\n  'Defender',\r\n  'Generator',\r\n  'Mage',\r\n  'Striker',\r\n  'Support',\r\n  'Warlock',\r\n  'Warmaster',\r\n  'Warrior'\r\n]\r\n\r\nexport const trait_codes = [\r\n  'aflame',\r\n  'agile',\r\n  'airbrand',\r\n  'airheart',\r\n  'airlink',\r\n  'airspirit',\r\n  'alert',\r\n  'arcane',\r\n  'armored',\r\n  'armorpiercing',\r\n  'aspectofdeath',\r\n  'aspectoffamine',\r\n  'aspectofplague',\r\n  'aspectofwar',\r\n  'assassinate',\r\n  'avenger',\r\n  'beastbond',\r\n  'beastslayer',\r\n  'big',\r\n  'blessed',\r\n  'bloodsucking',\r\n  'bullseye',\r\n  'centaurbond',\r\n  'centaurslayer',\r\n  'chill',\r\n  'chilltouch',\r\n  'clobber',\r\n  'clockwork',\r\n  'cocoon',\r\n  'compassion',\r\n  'constructbond',\r\n  'constructslayer',\r\n  'cunning',\r\n  'cursed',\r\n  'daemonbond',\r\n  'daemonicpact',\r\n  'daemonslayer',\r\n  'darkchannel',\r\n  'darkfall',\r\n  'deathtouch',\r\n  'defender',\r\n  'divineaura',\r\n  'divinebond',\r\n  'divineshield',\r\n  'divineslayer',\r\n  'doom',\r\n  'dragonbond',\r\n  'dragonslayer',\r\n  'dragonvines',\r\n  'dwarfbond',\r\n  'dwarfslayer',\r\n  'elementalbond',\r\n  'elementalslayer',\r\n  'elfbond',\r\n  'elfslayer',\r\n  'empowered',\r\n  'ensoul',\r\n  'exchangeattacktomagic',\r\n  'eyeofkhetar',\r\n  'fall',\r\n  'fast',\r\n  'feybond',\r\n  'feyslayer',\r\n  'fierycloak',\r\n  'firebrand',\r\n  'fireheart',\r\n  'firelink',\r\n  'fireproof',\r\n  'firespirit',\r\n  'flying',\r\n  'frenzy',\r\n  'frozensoul',\r\n  'fullplate',\r\n  'gardswrath',\r\n  'gateguardian',\r\n  'giantbond',\r\n  'giantslayer',\r\n  'goblinbond',\r\n  'goblinslayer',\r\n  'goblord',\r\n  'graniteskin',\r\n  'greedy',\r\n  'grudge',\r\n  'hacknslash',\r\n  'huge',\r\n  'humanbond',\r\n  'humanslayer',\r\n  'hunger',\r\n  'icycloak',\r\n  'immense',\r\n  'immortal',\r\n  'immune',\r\n  'impervious',\r\n  'indigestible',\r\n  'inscribed',\r\n  'insulated',\r\n  'jinx',\r\n  'kingswill',\r\n  'knightbond',\r\n  'knightslayer',\r\n  'knockout',\r\n  'leader',\r\n  'lethaltoxin',\r\n  'lifedrain',\r\n  'lionstrength',\r\n  'magearmor',\r\n  'magicbrand',\r\n  'magicheart',\r\n  'magiclink',\r\n  'magicspirit',\r\n  'manashield',\r\n  'manyheads',\r\n  'marauderbond',\r\n  'marauderslayer',\r\n  'mechbond',\r\n  'mechslayer',\r\n  'merchant',\r\n  'merfolkbond',\r\n  'merfolkslayer',\r\n  'miasma',\r\n  'molten',\r\n  'monsterbond',\r\n  'monsterslayer',\r\n  'mysticbond',\r\n  'mysticslayer',\r\n  'nagabond',\r\n  'nagaslayer',\r\n  'nastyteeth',\r\n  'naturebrand',\r\n  'natureheart',\r\n  'naturelink',\r\n  'naturespirit',\r\n  'necromancy',\r\n  'orcbond',\r\n  'orclord',\r\n  'orcslayer',\r\n  'plaguetouch',\r\n  'pyromania',\r\n  'queensgrace',\r\n  'rakshabond',\r\n  'rakshaslayer',\r\n  'regeneration',\r\n  'reinforced',\r\n  'roguebond',\r\n  'rogueslayer',\r\n  'sacrifice',\r\n  'seedling',\r\n  'shatter',\r\n  'siege',\r\n  'silence',\r\n  'siphon',\r\n  'slippery',\r\n  'snare',\r\n  'soullegion',\r\n  'spikearmor',\r\n  'spiritfire',\r\n  'stalker',\r\n  'stealthy',\r\n  'stonebrand',\r\n  'stoneheart',\r\n  'stonelink',\r\n  'stoneskin',\r\n  'stonespirit',\r\n  'stryxbond',\r\n  'stryxslayer',\r\n  'sturdy',\r\n  'sunshine',\r\n  'suppression',\r\n  'taurosbond',\r\n  'taurosslayer',\r\n  'technomancy',\r\n  'thickhead',\r\n  'thorns',\r\n  'trueshot',\r\n  'undeadbond',\r\n  'undeadslayer',\r\n  'venomous',\r\n  'virulence',\r\n  'ward',\r\n  'warded',\r\n  'wargarebond',\r\n  'wargareslayer',\r\n  'waterbrand',\r\n  'waterheart',\r\n  'waterlink',\r\n  'waterspirit',\r\n  'wildfolkbond',\r\n  'wildfolkslayer',\r\n  'winterveil',\r\n];","import React from 'react'\r\nimport { Typography, CardContent, Grid, Card, TextField, MenuItem } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { trait_codes } from \"./Values\";\r\nimport { Image } from \"./Icon\";\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    appbar: {\r\n      elevation: 0,\r\n      position: \"fixed\" \r\n    },\r\n    toolbar: {\r\n      paddingLeft: \"8px\",\r\n      paddingRight: \"8px\"\r\n    },\r\n    appbarText: {\r\n      alignSelf: \"center\",\r\n      marginRight: \"10px\"\r\n    },\r\n    input: {\r\n      marginLeft: \"auto\"\r\n    },\r\n    menu: {\r\n      width: 200,\r\n    },\r\n    menuColor: {\r\n      width: 400,\r\n    },\r\n    skill: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up(1200)]: {\r\n        width: '33%',\r\n        padding: '4px'\r\n      }\r\n    },\r\n    manaCost: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up(1400)]: {\r\n        width: '33%',\r\n        padding: '4px'\r\n      }\r\n    },\r\n    manaColors: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up(1400)]: {\r\n        width: '66%',\r\n        padding: '4px'\r\n      }\r\n    },\r\n    typeField: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up(1400)]: {\r\n        width: '50%',\r\n        padding: '4px'\r\n      }\r\n    },\r\n    traitcode: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '80px',\r\n        padding: '4px'\r\n      }\r\n    },\r\n    traitname: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up('md')]: {\r\n        width: `calc(100% - 80px)`,\r\n        padding: '4px'\r\n      }\r\n    }\r\n  };\r\n });\r\n\r\nexport const FormTraits = ({troop, setTroop, ...other}) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = name => event => {\r\n    \r\n  };\r\n\r\n  return (\r\n    <Grid xs={12} lg={8} spacing={3} container item direction=\"row\" {...other}>\r\n      <Grid item xs={12} sm={12} md={6} lg={4} xl={4}>\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography variant=\"h4\">Trait 1</Typography>\r\n            <TextField\r\n              id=\"form-trait1code\"\r\n              value={troop.trait1code}\r\n              select\r\n              label=\"Trait Icon\"\r\n              onChange={handleChange(\"trait1code\")}\r\n              margin=\"normal\"\r\n              className={classes.traitcode}\r\n              variant=\"outlined\">\r\n              {trait_codes.map(code => (\r\n                <MenuItem key={code} value={code}>\r\n                  <Image source={`./assets/graphics/troopcard/traits/${code}.png`}/>\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n            <TextField\r\n              id=\"form-trait1name\"\r\n              value={troop.trait1name}\r\n              onChange={handleChange('trait1name')}\r\n              margin=\"normal\"\r\n              type=\"text\"\r\n              label=\"Trait Name\"\r\n              className={classes.traitname}\r\n              variant=\"outlined\" />\r\n            <TextField\r\n              id=\"form-trait1desc\"\r\n              value={troop.trait1desc}\r\n              onChange={handleChange('trait1desc')}\r\n              margin=\"normal\"\r\n              type=\"text\"\r\n              multiline\r\n              label=\"Trait Description\"\r\n              style={{width: '100%'}}\r\n              variant=\"outlined\" />\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      <Grid item xs={12} sm={12} md={6} lg={4} xl={4}>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"h4\">Trait 2</Typography>\r\n            <TextField\r\n              id=\"form-trait2code\"\r\n              value={troop.trait2code}\r\n              select\r\n              label=\"Trait Icon\"\r\n              onChange={handleChange(\"trait2code\")}\r\n              margin=\"normal\"\r\n              className={classes.traitcode}\r\n              variant=\"outlined\">\r\n              {trait_codes.map(code => (\r\n                <MenuItem key={code} value={code}>\r\n                  <Image source={`./assets/graphics/troopcard/traits/${code}.png`}/>\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n            <TextField\r\n                id=\"form-trait2name\"\r\n                value={troop.trait2name}\r\n                onChange={handleChange('trait2name')}\r\n                margin=\"normal\"\r\n                type=\"text\"\r\n                label=\"Trait Name\"\r\n                className={classes.traitname}\r\n                variant=\"outlined\" />\r\n            <TextField\r\n                id=\"form-trait2desc\"\r\n                value={troop.trait2desc}\r\n                onChange={handleChange('trait2desc')}\r\n                margin=\"normal\"\r\n                type=\"text\"\r\n                multiline\r\n                label=\"Trait Description\"\r\n                style={{width: '100%'}}\r\n                variant=\"outlined\" />\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      <Grid item xs={12} sm={12} md={6} lg={4} xl={4}>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"h4\">Trait 3</Typography>\r\n            <TextField\r\n              id=\"form-trait3code\"\r\n              value={troop.trait3code}\r\n              select\r\n              label=\"Trait Icon\"\r\n              onChange={handleChange(\"trait3code\")}\r\n              margin=\"normal\"\r\n              className={classes.traitcode}\r\n              variant=\"outlined\">\r\n              {trait_codes.map(code => (\r\n                <MenuItem key={code} value={code}>\r\n                  <Image source={`./assets/graphics/troopcard/traits/${code}.png`}/>\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n            <TextField\r\n                id=\"form-trait3name\"\r\n                value={troop.trait3name}\r\n                onChange={handleChange('trait3name')}\r\n                margin=\"normal\"\r\n                type=\"text\"\r\n                label=\"Trait Name\"\r\n                className={classes.traitname}\r\n                variant=\"outlined\" />\r\n            <TextField\r\n                id=\"form-trait3desc\"\r\n                value={troop.trait3desc}\r\n                onChange={handleChange('trait3desc')}\r\n                margin=\"normal\"\r\n                type=\"text\"\r\n                multiline\r\n                label=\"Trait Description\"\r\n                style={{width: '100%'}}\r\n                variant=\"outlined\" />\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport WebFontLoader from \"webfontloader\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardBox: {\r\n    padding: theme.spacing(3)\r\n  },\r\n  card: {\r\n    width: '100%',\r\n    margin: '0px auto',\r\n    display: 'table'\r\n  }\r\n}));\r\n\r\nconst core_sources = [\r\n  \"./assets/graphics/troopcard/top.png\", // 0 - CardTop\r\n  \"./assets/graphics/troopcard/bottom.png\", // 1 - CardBottom\r\n  \"./assets/graphics/troopcard/divider.png\", // 2 - TraitDivider\r\n  './assets/graphics/troopcard/ascension.png', // 3 - Trait Pip\r\n  './assets/graphics/troopcard/traitbg.png', // 4 - Trait background\r\n]\r\n\r\nconst rarities = {\r\n  \"Common\":     { color: \"#FEFEFE\", pips: 1 },\r\n  \"Rare\":       { color: \"#54A721\", pips: 2 },\r\n  \"Ultra-Rare\": { color: \"#1D71FF\", pips: 3 },\r\n  \"Epic\":       { color: \"#9635E7\", pips: 4 },\r\n  \"Legendary\":  { color: \"#F3A120\", pips: 5 },\r\n  \"Mythic\":     { color: \"#13E3F6\", pips: 6 },\r\n  \"Doomed\":     { color: \"#B90000\", pips: 6 },\r\n}\r\n\r\n// Ensure all images are loaded before rendering the canvas itself.\r\nfunction loadImages(canvas, temp, troop, troop_sources, callback, setDownloadUrl, canvasResult) {\r\n  var images = {};\r\n  var loadedImages = 0;\r\n  var countImages = core_sources.length + troop_sources.length;\r\n  for (var src in core_sources) {\r\n      images[src] = new Image();\r\n      images[src].onload = function() {\r\n        if (++loadedImages >= countImages) {\r\n          callback(canvas, temp, troop, images, setDownloadUrl, canvasResult);\r\n        }\r\n      };\r\n      images[src].src = core_sources[src];\r\n  }\r\n  for (src in troop_sources) {\r\n    var index = parseInt(src) + core_sources.length;\r\n    images[index] = new Image();\r\n    images[index].onload = function() {\r\n      if (++loadedImages >= countImages) {\r\n        callback(canvas, temp, troop, images, setDownloadUrl, canvasResult);\r\n      }\r\n    };\r\n    images[index].src = troop_sources[src];\r\n}\r\n};\r\n\r\nfunction writeLines(context, x, y, maxWidth, lineHeight, text) {\r\n  var words = text.split(\" \");\r\n  var lines = [];\r\n  var currentLine = words[0];\r\n\r\n  // Build an array of lines, starting a new line if the current one is too long.\r\n  for (var i = 1; i < words.length; i++) {\r\n    var word = words[i];\r\n    var width = context.measureText(currentLine + \" \" + word).width;\r\n    if (width < maxWidth) {\r\n      currentLine += \" \" + word;\r\n    } else {\r\n      lines.push(currentLine);\r\n      currentLine = word;\r\n    }\r\n  }\r\n  // Finish up.\r\n  lines.push(currentLine);\r\n\r\n  const newY = y - (lines.length * lineHeight / 2);\r\n\r\n  for (var j = 0; j < lines.length; j++) {\r\n    context.fillText(lines[j], x, newY + lineHeight * j);\r\n  }\r\n}\r\n\r\n// Render the canvas itself.\r\nfunction draw(canvas, temp, troop, images, setDownloadUrl, canvasResult) {\r\n  // Set the canvas size.\r\n  canvas.width = 460;\r\n  canvas.height = 727;\r\n  var ctx = canvas.getContext('2d');\r\n  temp.width = canvas.width;\r\n  temp.height = canvas.height;\r\n  var ctemp = temp.getContext('2d');\r\n\r\n  const rarity_color = rarities[troop.rarity].color;\r\n  \r\n  // CardTop and CardBottom, TraitDivider1, 2, and 3\r\n  // To color by rarity, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  // CardTop border\r\n  ctemp.drawImage(images[0], 0, 0, 460, 16);\r\n  // CardBottom border\r\n  ctemp.drawImage(images[1], 0, 693, 460, 34);\r\n  // TraitDivider1\r\n  ctemp.drawImage(images[2], 0, 281, 460, 14);\r\n  // TraitDivider2\r\n  ctemp.drawImage(images[2], 0, 487, 460, 14);\r\n  // Fill in the area with the color.\r\n  ctemp.fillStyle = rarity_color;\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  // Move the image to the main canvas, then clear out the temp canvas.\r\n  ctx.drawImage(temp, 0, 0, canvas.width, canvas.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height);\r\n  ctemp.restore();\r\n\r\n  // Name Plate\r\n  ctx.fillStyle = \"#000\";\r\n  ctx.fillRect(0, 16, 460, 73);\r\n\r\n  // \"Traits\" Label\r\n  ctx.font = '600 50px \"Open Sans\"';\r\n  ctx.fillStyle = \"#FFF\";\r\n  ctx.textAlign = 'center';\r\n  ctx.fillText(\"Traits\", 215, 66);\r\n\r\n  // TraitCard1\r\n  ctx.drawImage(images[4], 0, 89, 460, 192);\r\n  // TraitCard2\r\n  ctx.drawImage(images[4], 0, 295, 460, 192);\r\n  // TraitCard3\r\n  ctx.drawImage(images[4], 0, 501, 460, 192);\r\n\r\n  // TraitIcon1, TraitPip1\r\n  // To color Epic, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  ctemp.drawImage(images[3], 12, 104, 36, 36);\r\n  ctemp.drawImage(images[5], 404, 104, 36, 36);\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillStyle = rarities['Epic'].color;\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  ctx.globalAlpha = 1;\r\n  ctx.drawImage(temp, 0, 0, temp.width, temp.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height)\r\n  ctemp.restore();\r\n\r\n  // TraitIcon2, TraitPip2\r\n  // To color Legendary, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  ctemp.drawImage(images[3], 12, 310, 36, 36);\r\n  ctemp.drawImage(images[6], 404, 310, 36, 36);\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillStyle = rarities['Legendary'].color;\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  ctx.drawImage(temp, 0, 0, temp.width, temp.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height)\r\n  ctemp.restore();\r\n\r\n  // TraitIcon3, TraitPip3\r\n  // To color Mythic, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  ctemp.drawImage(images[3], 12, 516, 36, 36);\r\n  ctemp.drawImage(images[7], 404, 516, 36, 36);\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillStyle = rarities['Mythic'].color;\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  ctx.drawImage(temp, 0, 0, temp.width, temp.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height)\r\n  ctemp.restore();\r\n\r\n  // TraitName1\r\n  ctx.font = '600 32px \"Open Sans\"';\r\n  ctx.textAlign = 'left';\r\n  ctx.fillStyle = rarities['Epic'].color;\r\n  ctx.fillText(troop.trait1name, 60, 104 + 30);\r\n\r\n  // TraitName2\r\n  ctx.fillStyle = rarities['Legendary'].color;\r\n  ctx.fillText(troop.trait2name, 60, 310 + 30);\r\n\r\n  // TraitName3\r\n  ctx.fillStyle = rarities['Mythic'].color;\r\n  ctx.fillText(troop.trait3name, 60, 516 + 30);\r\n\r\n  // TraitDesc1\r\n  ctx.font = '600 32px \"Open Sans\"';\r\n  ctx.fillStyle = \"#000\";\r\n  ctx.textAlign = 'center';\r\n  writeLines(ctx, 230, 246, 400, 32, troop.trait1desc);\r\n\r\n  // TraitDesc2\r\n  writeLines(ctx, 230, 452, 400, 32, troop.trait2desc);\r\n\r\n  // TraitDesc3\r\n  writeLines(ctx, 230, 658, 400, 32, troop.trait3desc);\r\n\r\n  // Add the traits to the results.\r\n  const cresult = canvasResult.getContext('2d');\r\n  cresult.clearRect(975, 10, canvas.width, canvas.height);\r\n  cresult.drawImage(canvas, 975, 10, canvas.width, canvas.height);\r\n\r\n  // Set the download URL.\r\n  setDownloadUrl(canvas.toDataURL(\"image/png\"));\r\n}\r\n\r\nconst drawInactive = (canvas) => {\r\n  // Set the canvas size.\r\n  canvas.width = 460;\r\n  canvas.height = 727;\r\n}\r\n\r\n// Render a troop as a full-size card (like in the troop list).\r\nexport const CardTraits = ({troop, canvasResult, setDownloadUrl}) => {\r\n  const classes = useStyles();\r\n\r\n  const troopCard = React.useRef(null);\r\n  const temp = React.useRef(null);\r\n\r\n  const [isFontReady, setFontReady] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    // Fetch necessary fonts.\r\n    WebFontLoader.load({\r\n      google: {\r\n        families: [ 'Open Sans:400,600,700', 'Roboto', 'Raleway'],\r\n      },\r\n      fontactive: () => { setFontReady(true) },\r\n    })\r\n  }, []);\r\n\r\n  // Perform when troop changes.\r\n  useEffect(() => {\r\n    // Draw the canvas.\r\n    if (isFontReady) {\r\n      loadImages(troopCard.current, temp.current, troop, [\r\n        `./assets/graphics/troopcard/traits/${troop.trait1code}.png`, // 5 - Trait Icon 1\r\n        `./assets/graphics/troopcard/traits/${troop.trait2code}.png`, // 6 - Trait Icon 2\r\n        `./assets/graphics/troopcard/traits/${troop.trait3code}.png`, // 7 - Trait Icon 3\r\n      ], draw, setDownloadUrl, canvasResult.current);\r\n    } else {\r\n      drawInactive(troopCard.current);\r\n    }\r\n  }, [troop, isFontReady]);\r\n\r\n  return (\r\n    <Box height={1} className={classes.cardBox}>\r\n        <canvas ref={troopCard} className={classes.card} />\r\n        <canvas ref={temp} style={{display: 'none'}} />\r\n    </Box>\r\n  );\r\n}","import React from \"react\";\r\nimport { Typography, CardContent, Grid, Card, Button, Tooltip} from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { CardTraits } from \"./CardTraits\";\r\nimport { Icon } from './Icon';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  buttonGrid: {\r\n    paddingTop: '6px'\r\n  },\r\n  buttonIcon: {\r\n    fontSize: '2em'\r\n  },\r\n  card: {\r\n    padding: theme.spacing(3)\r\n  }\r\n}));\r\n\r\nexport const PreviewTraits = ({troop, canvasResult, ...other}) => {\r\n  const classes = useStyles();\r\n\r\n  const [downloadUrl, setDownloadUrl] = React.useState(\"\");\r\n\r\n  return (\r\n    <Grid item xs={12} lg={4} {...other}>\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <Typography align=\"center\" variant=\"h2\">Preview</Typography>\r\n          <CardTraits troop={troop} canvasResult={canvasResult} setDownloadUrl={setDownloadUrl} />\r\n          <Grid container justify=\"center\" className={classes.buttonGrid} spacing={3}>\r\n            <Grid item>\r\n              <Tooltip title=\"Download\" aria-label=\"download\">\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  size=\"large\"\r\n                  href={downloadUrl}\r\n                  download={`${troop.name}.png`}>\r\n                  <Icon className={classes.buttonIcon} icon={\"nf-mdi-download\"}/>\r\n                </Button>\r\n              </Tooltip>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n    </Grid>\r\n  )\r\n}","import React from \"react\";\r\nimport { Grid } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { FormTraits } from \"./FormTraits\";\r\nimport { PreviewTraits } from \"./PreviewTraits\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardGridItem: {\r\n    order: 2,\r\n    width: `calc(75vh)`\r\n  },\r\n  formGridItem: {\r\n    order: 1\r\n  }\r\n}));\r\n\r\nexport const TabTraits = ({troop, setTroop, canvasResult, ...other}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container spacing={3} direction=\"row\" {...other}>\r\n      <FormTraits\r\n        troop={troop}\r\n        className={classes.formGridItem}\r\n        setTroop={setTroop} />\r\n      <PreviewTraits\r\n        troop={troop}\r\n        canvasResult={canvasResult} \r\n        className={classes.cardGridItem} />\r\n    </Grid>\r\n  )\r\n}","import React from 'react'\r\nimport { Typography, CardContent, Grid, Card, TextField, MenuItem, InputAdornment } from '@material-ui/core';\r\nimport { DropzoneArea } from 'material-ui-dropzone'\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { colors, roles, rarities } from \"./Values\";\r\nimport { Image } from \"./Icon\";\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    appbar: {\r\n      elevation: 0,\r\n      position: \"fixed\" \r\n    },\r\n    toolbar: {\r\n      paddingLeft: \"8px\",\r\n      paddingRight: \"8px\"\r\n    },\r\n    appbarText: {\r\n      alignSelf: \"center\",\r\n      marginRight: \"10px\"\r\n    },\r\n    input: {\r\n      marginLeft: \"auto\"\r\n    },\r\n    menu: {\r\n      width: 200,\r\n    },\r\n    menuColor: {\r\n      width: 400,\r\n    },\r\n    skill: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up(1200)]: {\r\n        width: '33%',\r\n        padding: '4px'\r\n      }\r\n    },\r\n    manaCost: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up(1400)]: {\r\n        width: '33%',\r\n        padding: '4px'\r\n      }\r\n    },\r\n    manaColors: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up(1400)]: {\r\n        width: '66%',\r\n        padding: '4px'\r\n      }\r\n    },\r\n    typeField: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up(1400)]: {\r\n        width: '50%',\r\n        padding: '4px'\r\n      }\r\n    },\r\n    trait: {\r\n      [theme.breakpoints.up('xs')]: {\r\n        width: '100%'\r\n      },\r\n      [theme.breakpoints.up('xl')]: {\r\n        width: '33%',\r\n        padding: '4px'\r\n      }\r\n    }\r\n  };\r\n });\r\n\r\nexport const FormTroop = ({troop, setTroop, ...other}) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = name => event => {\r\n    setTroop({ ...troop, [name]: event.target.value });\r\n  };\r\n\r\n  return (\r\n    <Grid xs={12} lg={8} spacing={3} container item direction=\"row\" {...other}>\r\n        <Grid item xs={12} sm={12} md={6} lg={4} xl={3}>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h4\">Name</Typography>\r\n              <TextField\r\n                id=\"form-name\"\r\n                value={troop.name}\r\n                onChange={handleChange('name')}\r\n                margin=\"normal\"\r\n                type=\"text\"\r\n                label=\"Name\"\r\n                style={{width: '100%'}}\r\n                variant=\"outlined\" />\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12} md={6} lg={4} xl={3}>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h4\">Kingdom</Typography>\r\n              <TextField\r\n                id=\"form-kingdom\"\r\n                value={troop.kingdom}\r\n                onChange={handleChange('kingdom')}\r\n                margin=\"normal\"\r\n                type=\"text\"\r\n                label=\"Kingdom\"\r\n                style={{width: '100%'}}\r\n                variant=\"outlined\" />\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12} md={6} lg={4} xl={3}>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h4\">Rarity</Typography>\r\n              <TextField\r\n                id=\"form-rarity\"\r\n                value={troop.rarity}\r\n                select\r\n                label=\"Rarity\"\r\n                onChange={handleChange('rarity')}\r\n                margin=\"normal\"\r\n                style={{width: '100%'}}\r\n                variant=\"outlined\">\r\n                {rarities.map(option => (\r\n                  <MenuItem key={option} value={option}>\r\n                    {option}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12} md={6} lg={3} xl={3}>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h4\">Level</Typography>\r\n              <TextField\r\n                id=\"form-level\"\r\n                value={troop.level}\r\n                type=\"number\"\r\n                onChange={handleChange('level')}\r\n                margin=\"normal\"\r\n                label=\"Level\"\r\n                style={{width: '100%'}}\r\n                variant=\"outlined\" />\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12} md={6} lg={3} xl={3}>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h4\">Role</Typography>\r\n              <TextField\r\n                id=\"form-role\"\r\n                value={troop.role}\r\n                select\r\n                label=\"Role\"\r\n                onChange={handleChange('role')}\r\n                margin=\"normal\"\r\n                style={{width: '100%'}}\r\n                variant=\"outlined\">\r\n                {roles.map(option => (\r\n                  <MenuItem key={option} value={option}>\r\n                    <Image source={`./assets/graphics/troopcard/roles/${option}.png`}/> {option}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12} md={6} lg={6} xl={5}>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h4\">Mana Cost</Typography>\r\n              <TextField\r\n                id=\"form-cost\"\r\n                value={troop.cost}\r\n                type=\"number\"\r\n                label=\"Cost\"\r\n                onChange={handleChange('cost')}\r\n                margin=\"normal\"\r\n                className={classes.manaCost}\r\n                variant=\"outlined\" />\r\n              <TextField\r\n                id=\"form-colors\"\r\n                value={troop.colors}\r\n                select\r\n                label=\"Colors\"\r\n                onChange={handleChange('colors')}\r\n                SelectProps={{\r\n                  MenuProps: {\r\n                    className: classes.menuColor,\r\n                  },\r\n                }}\r\n                margin=\"normal\"\r\n                className={classes.manaColors}\r\n                variant=\"outlined\">\r\n                {colors.map(option => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    <Image source={`./assets/graphics/troopcard/colors/${option.value}.png`}/> {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12} md={6} lg={4}>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h4\">Types</Typography>\r\n              <TextField\r\n                id=\"form-type1\"\r\n                value={troop.type1}\r\n                onChange={handleChange('type1')}\r\n                margin=\"normal\"\r\n                type=\"text\"\r\n                label=\"Type 1\"\r\n                className={classes.typeField}\r\n                variant=\"outlined\" />\r\n              <TextField\r\n                id=\"form-type2\"\r\n                value={troop.type2}\r\n                onChange={handleChange('type2')}\r\n                margin=\"normal\"\r\n                type=\"text\"\r\n                label=\"Type 2 (Optional)\"\r\n                className={classes.typeField}\r\n                variant=\"outlined\" />\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12} md={6} lg={5} xl={5}>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h4\">Skills</Typography>\r\n              <TextField\r\n                id=\"form-attack\"\r\n                value={troop.attack}\r\n                type=\"number\"\r\n                label=\"Attack\"\r\n                onChange={handleChange('attack')}\r\n                margin=\"normal\"\r\n                className={classes.skill}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Image source={`./assets/graphics/troopcard/attack.png`}/>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                variant=\"outlined\" />\r\n              <TextField\r\n                id=\"form-armor\"\r\n                value={troop.armor}\r\n                type=\"number\"\r\n                label=\"Armor\"\r\n                onChange={handleChange('armor')}\r\n                margin=\"normal\"\r\n                className={classes.skill}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Image source={`./assets/graphics/troopcard/armor.png`}/>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                variant=\"outlined\" />\r\n              <TextField\r\n                id=\"form-life\"\r\n                value={troop.life}\r\n                type=\"number\"\r\n                label=\"Life\"\r\n                onChange={handleChange('life')}\r\n                margin=\"normal\"\r\n                className={classes.skill}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Image source={`./assets/graphics/troopcard/life.png`}/>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                variant=\"outlined\" />\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h4\" gutterBottom>Image</Typography>\r\n              <DropzoneArea\r\n                className={{ backgroundColor: \"#1f1f1f\" }}\r\n                onChange={handleChange('files')} />\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n    </Grid>\r\n  );\r\n};","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport WebFontLoader from \"webfontloader\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardBox: {\r\n    padding: theme.spacing(3)\r\n  },\r\n  card: {\r\n    width: '100%',\r\n    margin: '0px auto',\r\n    display: 'table'\r\n  }\r\n}));\r\n\r\nconst core_sources = [\r\n  \"./assets/graphics/troopcard/top.png\", // 0 - CardTop\r\n  \"./assets/graphics/troopcard/bottom.png\", // 1 - CardBottom\r\n  \"./assets/graphics/troopcard/attack.png\", // 2 - Attack Skill\r\n  \"./assets/graphics/troopcard/armor.png\", // 3 - Armor Skil\r\n  \"./assets/graphics/troopcard/life.png\", // 4 - Life Skill\r\n  \"./assets/graphics/troopcard/trait_flag.png\", // 5 - Trait Flag\r\n  \"./assets/graphics/troopcard/ascension.png\", // 6 - Rarity Pip without Spikes\r\n  \"./assets/graphics/troopcard/ascension_spike.png\", // 7 - Rarity Pip with Spikes\r\n  \"./assets/graphics/troopcard/shading_horizontal.png\", // 8 - Horizontal Gradient\r\n  \"./assets/graphics/troopcard/shading_vertical.png\", // 9 - Vertical Gradient\r\n]\r\n\r\nconst rarities = {\r\n  \"Common\":     { color: \"#FEFEFE\", pips: 1 },\r\n  \"Rare\":       { color: \"#54A721\", pips: 2 },\r\n  \"Ultra-Rare\": { color: \"#1D71FF\", pips: 3 },\r\n  \"Epic\":       { color: \"#9635E7\", pips: 4 },\r\n  \"Legendary\":  { color: \"#F3A120\", pips: 5 },\r\n  \"Mythic\":     { color: \"#13E3F6\", pips: 6 },\r\n  \"Doomed\":     { color: \"#B90000\", pips: 6 },\r\n}\r\n\r\n// Ensure all images are loaded before rendering the canvas itself.\r\nfunction loadImages(canvas, temp, troop, troop_sources, callback, setDownloadUrl, canvasResult) {\r\n  var images = {};\r\n  var loadedImages = 0;\r\n  var countImages = core_sources.length + troop_sources.length;\r\n  for (var src in core_sources) {\r\n      images[src] = new Image();\r\n      images[src].onload = function() {\r\n        if (++loadedImages >= countImages) {\r\n          callback(canvas, temp, troop, images, setDownloadUrl, canvasResult);\r\n        }\r\n      };\r\n      images[src].src = core_sources[src];\r\n  }\r\n  for (src in troop_sources) {\r\n    var index = parseInt(src) + core_sources.length;\r\n    images[index] = new Image();\r\n    images[index].onload = function() {\r\n      if (++loadedImages >= countImages) {\r\n        callback(canvas, temp, troop, images, setDownloadUrl, canvasResult);\r\n      }\r\n    };\r\n    images[index].src = troop_sources[src];\r\n}\r\n};\r\n\r\n// Render the canvas itself.\r\nfunction draw(canvas, temp, troop, images, setDownloadUrl, canvasResult) {\r\n  // Set the canvas size.\r\n  canvas.width = 490;\r\n  canvas.height = 746;\r\n  var ctx = canvas.getContext('2d');\r\n  temp.width = canvas.width;\r\n  temp.height = canvas.height;\r\n  var ctemp = temp.getContext('2d');\r\n\r\n  const rarity_color = rarities[troop.rarity].color;\r\n  const rarity_pips = rarities[troop.rarity].pips;\r\n\r\n  // TroopImage\r\n  // Clip to prevent the image appearing behind the top bar.\r\n  // Save and restore to undo the clip.\r\n  ctx.save();\r\n  ctx.rect(0, 46, canvas.width, canvas.height);\r\n  ctx.clip();\r\n  ctx.drawImage(images[10], 30, 37, 460, 652);\r\n  ctx.restore();\r\n\r\n  // TopGradient, behind the ascension pips\r\n  // Clip to prevent the image appearing behind the top bar.\r\n  // Save and restore to undo the clip.\r\n  ctx.save();\r\n  ctx.rect(0, 46, canvas.width, canvas.height);\r\n  ctx.clip();\r\n  // Set transparency\r\n  ctx.globalAlpha = 0.8235\r\n  ctx.drawImage(images[9], 30, 37, 460, 107);\r\n  ctx.restore();\r\n\r\n  // LevelGradient, behind the troop level\r\n  // Clip to prevent the image appearing behind the top bar.\r\n  // Save and restore to undo the clip.\r\n  ctx.save();\r\n  ctx.rect(0, 46, canvas.width, canvas.height);\r\n  ctx.clip();\r\n  // Set transparency\r\n  ctx.globalAlpha = 0.7843\r\n  // Flip horizontally\r\n  ctx.translate(460, 0);\r\n  ctx.scale(-1, 1);\r\n  ctx.drawImage(images[8], -30, 45, 195, 107);\r\n  ctx.restore();\r\n  \r\n  // CardTop and CardBottom\r\n  // To color by rarity, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  // CardTop border\r\n  ctemp.drawImage(images[0], 0, 0, 460, 16);\r\n  // CardBottom border\r\n  ctemp.drawImage(images[1], 0, 659, 460, 50);\r\n  // Fill in the area with the color.\r\n  ctemp.fillStyle = rarity_color;\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  // Move the image to the main canvas, then clear out the temp canvas.\r\n  ctx.drawImage(temp, 30, 30, canvas.width, canvas.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height);\r\n  ctemp.restore();\r\n\r\n  // LevelLabel\r\n  ctx.font = '500 40px \"Raleway\"';\r\n  ctx.fillStyle = \"#FFF\";\r\n  ctx.textAlign = 'right';\r\n  ctx.fillText(\"Level\", canvas.width - 8, 56 + 30);\r\n\r\n  // LevelValue\r\n  ctx.font = '600 50px \"Open Sans\"';\r\n  // Same fillStyle and textAlign\r\n  ctx.fillText(troop.level, canvas.width - 8, 108 + 30);\r\n\r\n  // ManaColor\r\n  ctx.drawImage(images[15], 0, 0, 100, 100);\r\n\r\n  // ManaCost\r\n  ctx.save();\r\n  ctx.font = '600 60px \"Open Sans\"';\r\n  ctx.fillStyle = \"#FFF\";\r\n  ctx.textAlign = 'center';\r\n  // 2px Black shadow\r\n  ctx.shadowOffsetX = 2;\r\n  ctx.shadowOffsetY = 2;\r\n  ctx.shadowColor = '#000';\r\n  ctx.fillText(troop.cost, 50, 70);\r\n  ctx.restore();\r\n\r\n  // Ascension Pips\r\n  // To color by rarity, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  for (const i of Array(rarity_pips).keys()) {\r\n    ctemp.drawImage(images[7], 105 + 30 * i, 60, 30, 30);\r\n  }\r\n  // Fill in the area with the color.\r\n  ctemp.fillStyle = rarity_color;\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  // Move the image to the main canvas, then clear out the temp canvas.\r\n  ctx.drawImage(temp, 0, 0, canvas.width, canvas.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height);\r\n  ctemp.restore();\r\n\r\n  // Unascended Pips\r\n  // To color gray, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  for (const i of Array(6 - rarity_pips).keys()) {\r\n    ctemp.drawImage(images[6], 255 - 30 * i, 60, 30, 30);\r\n  }\r\n  // Fill in the area with the color.\r\n  ctemp.fillStyle = \"#AFAFAF\";\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  // Move the image to the main canvas, then clear out the temp canvas.\r\n  ctx.drawImage(temp, 0, 0, canvas.width, canvas.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height);\r\n  ctemp.restore();\r\n\r\n  // Skill Background\r\n  ctx.fillStyle = \"#000000B2\";\r\n  ctx.fillRect(30, 618, 460, 71);\r\n\r\n  // Attack Icon\r\n  ctx.drawImage(images[2], 49, 630, 50, 50);\r\n  // Armor Icon\r\n  ctx.drawImage(images[3], 216, 630, 44, 50);\r\n  // Life Icon\r\n  ctx.drawImage(images[4], 368, 630, 50, 50);\r\n\r\n  ctx.font = '600 40px \"Open Sans\"';\r\n  ctx.fillStyle = \"#FFF\";\r\n  ctx.textAlign = 'left';\r\n  // Attack Value\r\n  ctx.fillText(troop.attack, 104, 667);\r\n  // Armor Value\r\n  ctx.fillText(troop.armor, 268, 667);\r\n  // Life Value\r\n  ctx.fillText(troop.life, 423, 667);\r\n\r\n  // Troop Name\r\n  ctx.font = '500 57px \"Raleway\"';\r\n  ctx.fillStyle = \"#FFF\";\r\n  ctx.textAlign = 'left';\r\n  ctx.fillText(troop.name, 50, 573);\r\n\r\n  // Troop Kingdom\r\n  ctx.font = '600 30px \"Open Sans\"';\r\n  ctx.fillStyle = \"#CCCCCCFF\";\r\n  ctx.fillText(troop.kingdom, 50, 608);\r\n\r\n  // Type\r\n  ctx.fillStyle = \"#000\";\r\n  ctx.textAlign = 'center';\r\n  const type = troop.type2 !== \"\" ? `${troop.type1} / ${troop.type2}` : troop.type1;\r\n  const txtSize = ctx.measureText(type).width;\r\n  ctx.fillText(type, 260, 722);\r\n\r\n  // Role Icons\r\n  // To color black, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  ctemp.clearRect(0, 0, temp.width, temp.height);\r\n  const leftRoleX = 210 - (txtSize / 2);\r\n  const rightRoleX = 266 + (txtSize / 2);\r\n  ctemp.drawImage(images[11], leftRoleX, 692, 44, 44);\r\n  ctemp.drawImage(images[11], rightRoleX, 692, 44, 44);\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillStyle = \"#000000\";\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  ctx.drawImage(temp, 0, 0, temp.width, temp.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height)\r\n  ctemp.restore();\r\n\r\n  // Trait Flags\r\n  // To color black/transparent, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  ctemp.drawImage(images[5], 30, 238, 120, 60);\r\n  ctemp.drawImage(images[5], 30, 303, 120, 60);\r\n  ctemp.drawImage(images[5], 30, 368, 120, 60);\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillStyle = \"#000000\";\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  ctx.globalAlpha = 0.706;\r\n  ctx.drawImage(temp, 0, 0, temp.width, temp.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height)\r\n  ctemp.restore();\r\n\r\n  // TraitIcon1\r\n  // To color Epic, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  ctemp.drawImage(images[12], 45, 243, 50, 50);\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillStyle = rarities['Epic'].color;\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  ctx.globalAlpha = 1;\r\n  ctx.drawImage(temp, 0, 0, temp.width, temp.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height)\r\n  ctemp.restore();\r\n\r\n  // TraitIcon2\r\n  // To color Legendary, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  ctemp.drawImage(images[13], 45, 313, 50, 50);\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillStyle = rarities['Legendary'].color;\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  ctx.drawImage(temp, 0, 0, temp.width, temp.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height)\r\n  ctemp.restore();\r\n\r\n  // TraitIcon3\r\n  // To color Mythic, we draw on a hidden canvas, color it,\r\n  // then copy it to the full canvas.\r\n  ctemp.save();\r\n  ctemp.drawImage(images[14], 45, 373, 50, 50);\r\n  ctemp.globalCompositeOperation = \"source-in\";\r\n  ctemp.fillStyle = rarities['Mythic'].color;\r\n  ctemp.fillRect(0, 0, temp.width, temp.height);\r\n  ctx.drawImage(temp, 0, 0, temp.width, temp.height);\r\n  ctemp.clearRect(0, 0, temp.width, temp.height)\r\n  ctemp.restore();\r\n\r\n  // Add the troop to the results.\r\n  const cresult = canvasResult.getContext('2d');\r\n  cresult.clearRect(475, 0, canvas.width, canvas.height);\r\n  cresult.drawImage(canvas, 475, 0, canvas.width, canvas.height);\r\n\r\n  // Set the download URL.\r\n  setDownloadUrl(canvas.toDataURL(\"image/png\"));\r\n}\r\n\r\nconst drawInactive = (canvas) => {\r\n  // Set the canvas size.\r\n  canvas.width = 490;\r\n  canvas.height = 746;\r\n}\r\n\r\n// Render a troop as a full-size card (like in the troop list).\r\nexport const CardTroop = ({troop, canvasResult, setDownloadUrl}) => {\r\n  const classes = useStyles();\r\n\r\n  const troopCard = React.useRef(null);\r\n  const temp = React.useRef(null);\r\n\r\n  const [isFontReady, setFontReady] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    // Fetch necessary fonts.\r\n    WebFontLoader.load({\r\n      google: {\r\n        families: [ 'Open Sans:400,600,700', 'Roboto', 'Raleway'],\r\n      },\r\n      fontactive: () => { setFontReady(true) },\r\n    })\r\n  }, []);\r\n\r\n  // Perform when troop changes.\r\n  useEffect(() => {\r\n    // Draw the canvas.\r\n    if (isFontReady) {\r\n      loadImages(troopCard.current, temp.current, troop, [\r\n        `./assets/graphics/troopcard/infernus.png`, // 10 - Troop Image\r\n        `./assets/graphics/troopcard/roles/${troop.role}.png`, // 11 - Role Icon\r\n        `./assets/graphics/troopcard/traits/${troop.trait1code}.png`, // 12 - Trait Icon 1\r\n        `./assets/graphics/troopcard/traits/${troop.trait2code}.png`, // 13 - Trait Icon 2\r\n        `./assets/graphics/troopcard/traits/${troop.trait3code}.png`, // 14 - Trait Icon 3\r\n        `./assets/graphics/troopcard/colors/${troop.colors}.png`, // 15 - Mana Colors\r\n      ], draw, setDownloadUrl, canvasResult.current);\r\n    } else {\r\n      drawInactive(troopCard.current);\r\n    }\r\n  }, [troop, isFontReady]);\r\n\r\n  return (\r\n    <Box height={1} className={classes.cardBox}>\r\n        <canvas ref={troopCard} className={classes.card} />\r\n        <canvas ref={temp} style={{display: 'none'}} />\r\n    </Box>\r\n  );\r\n}","import React from \"react\";\r\nimport { Typography, CardContent, Grid, Card, Button, Tooltip} from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { CardTroop } from \"./CardTroop\";\r\nimport { Icon } from './Icon';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  buttonGrid: {\r\n    paddingTop: '6px'\r\n  },\r\n  buttonIcon: {\r\n    fontSize: '2em'\r\n  },\r\n  card: {\r\n    padding: theme.spacing(3)\r\n  }\r\n}));\r\n\r\nexport const PreviewTroop = ({troop, canvasResult, ...other}) => {\r\n  const classes = useStyles();\r\n\r\n  const [downloadUrl, setDownloadUrl] = React.useState(\"\");\r\n\r\n  return (\r\n    <Grid item xs={12} lg={4} {...other}>\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <Typography align=\"center\" variant=\"h2\">Preview</Typography>\r\n          <CardTroop troop={troop} canvasResult={canvasResult} setDownloadUrl={setDownloadUrl} />\r\n          <Grid container justify=\"center\" className={classes.buttonGrid} spacing={3}>\r\n            <Grid item>\r\n              <Tooltip title=\"Download\" aria-label=\"download\">\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  size=\"large\"\r\n                  href={downloadUrl}\r\n                  download={`${troop.name}.png`}>\r\n                  <Icon className={classes.buttonIcon} icon={\"nf-mdi-download\"}/>\r\n                </Button>\r\n              </Tooltip>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n    </Grid>\r\n  )\r\n}","import React from \"react\";\r\nimport { Grid } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { FormTroop } from \"./FormTroop\";\r\nimport { PreviewTroop } from \"./PreviewTroop\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardGridItem: {\r\n    [theme.breakpoints.up('xs')]: {\r\n      order: 1,\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n      order: 2,\r\n    },\r\n    order: 2,\r\n    width: `calc(75vh)`\r\n  },\r\n  formGridItem: {\r\n    [theme.breakpoints.up('xs')]: {\r\n      order: 2,\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n      order: 1,\r\n    }\r\n  }\r\n}));\r\n\r\nexport const TabTroop = ({troop, setTroop, canvasResult, ...other}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container spacing={3} direction=\"row\" {...other}>\r\n      <FormTroop\r\n        troop={troop}\r\n        className={classes.formGridItem}\r\n        setTroop={setTroop} />\r\n      <PreviewTroop\r\n        troop={troop}\r\n        canvasResult={canvasResult} \r\n        className={classes.cardGridItem} />\r\n    </Grid>\r\n  )\r\n}","import React from \"react\";\r\nimport { CssBaseline, Container, Toolbar, Tabs, Tab, Typography, Box } from '@material-ui/core';\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport SwipeableViews from 'react-swipeable-views';\r\n\r\nimport { NavBar } from \"./NavBar\";\r\nimport { TabResult } from \"./TabResult\";\r\nimport { TabSpell } from \"./TabSpell\";\r\nimport { TabTraits } from \"./TabTraits\";\r\nimport { TabTroop } from \"./TabTroop\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  content: {\r\n    flexGrow: 1,\r\n    width: `calc(100vw - 240px)`,\r\n    maxHeight: `calc(100vh - 64px)`,\r\n  },\r\n  grid: {\r\n    display: 'flex'\r\n  },\r\n  tabView: {\r\n  }\r\n}));\r\n\r\n\r\nconst TabPanel = ({ children, value, index, ...other }) => {\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`full-width-tabpanel-${index}`}\r\n      aria-labelledby={`full-width-tab-${index}`}\r\n      {...other}\r\n    >\r\n      <Box p={3}>{children}</Box>\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nexport const App = () => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [troop, setTroop] = React.useState({\r\n    name: \"Infernus\",\r\n    kingdom: \"Broken Spire\",\r\n    rarity: \"Mythic\",\r\n    level: \"20\",\r\n\r\n    role: \"Mage\",\r\n    cost: \"24\",\r\n    colors: \"RedYellowPurple\",\r\n    attack: \"40\",\r\n    armor: \"40\",\r\n    life: \"40\",\r\n    magic: \"25\",\r\n\r\n    type1: \"Divine\",\r\n    type2: \"Elemental\",\r\n\r\n    trait1name: 'Elemental Shield',\r\n    trait1desc: 'Allied Elementals gain 2 Armor.',\r\n    trait1code: 'elementalbond',\r\n    trait2name: 'Fiery Death',\r\n    trait2desc: 'Summon a Firestorm when an enemy dies.',\r\n    trait2code: 'firebrand',\r\n    trait3name: 'Conflagration',\r\n    trait3desc: 'Burn all enemies on 4 or 5 Gem matches.',\r\n    trait3code: 'molten',\r\n\r\n    spellname: \"Eruption\",\r\n    spelldesc: \"Deal {magic} damage to 2 random enemies, and half of that damage to adjacent enemies. Explode 5 random Gems.\",\r\n    spellmult: \"1\",\r\n    spellbase: \"10\",\r\n    spellrange: false,\r\n\r\n    file_base: \"Troop_K00_10\",\r\n    files: []\r\n  });\r\n\r\n  const [currentTab, setCurrentTab] = React.useState(1);\r\n\r\n  const handleTabEvent = (event, newValue) => {\r\n    setCurrentTab(newValue);\r\n  }\r\n\r\n  const canvasResult = React.createRef();\r\n\r\n  return (\r\n    <CssBaseline>\r\n      <NavBar />\r\n      <Toolbar />\r\n      <Container maxWidth=\"xl\" className={classes.content}>\r\n        <Tabs\r\n          value={currentTab}\r\n          onChange={handleTabEvent}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          centered>\r\n          <Tab label=\"Spell\" {...a11yProps(0)} />\r\n          <Tab label=\"Troop\" {...a11yProps(1)} />\r\n          <Tab label=\"Traits\" {...a11yProps(2)} />\r\n          <Tab label=\"Result\" {...a11yProps(3)} />\r\n        </Tabs>\r\n        <SwipeableViews\r\n          axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n          index={currentTab}\r\n          onChangeIndex={setCurrentTab}>\r\n          <TabPanel value={currentTab} index={0} dir={theme.direction}>\r\n            <TabSpell className={classes.tabView} canvasResult={canvasResult} troop={troop} setTroop={setTroop} />\r\n          </TabPanel>\r\n          <TabPanel value={currentTab} index={1} dir={theme.direction}>\r\n            <TabTroop className={classes.tabView} canvasResult={canvasResult} troop={troop} setTroop={setTroop} />\r\n          </TabPanel>\r\n          <TabPanel value={currentTab} index={2} dir={theme.direction}>\r\n            <TabTraits className={classes.tabView} canvasResult={canvasResult} troop={troop} setTroop={setTroop} />\r\n          </TabPanel>\r\n          <TabPanel value={currentTab} index={3} dir={theme.direction}>\r\n            <TabResult className={classes.tabView} canvasResult={canvasResult} troop={troop} />\r\n          </TabPanel>\r\n        </SwipeableViews>\r\n      </Container>\r\n    </CssBaseline>\r\n  );  \r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\n\nimport { App } from \"./components/App\";\nimport { orange, blueGrey } from \"@material-ui/core/colors\";\n\n// CSS\nimport './css/style.css'\nimport './css/google-fonts.css'\nimport './css/nerd-fonts.min.css'\n\nconst theme = createMuiTheme({\n    palette: {\n      type: 'dark',\n      primary: blueGrey,\n      secondary: orange,\n    },\n    zIndex: {\n        appBar: 1\n    }\n});\n\nfunction Index() {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <App />\n    </MuiThemeProvider>\n  );\n}\n\nReactDOM.render(<Index />, document.getElementById('root'));"],"sourceRoot":""}